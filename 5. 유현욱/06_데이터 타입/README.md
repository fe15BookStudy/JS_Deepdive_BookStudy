# 모던 자바스크립트 Deep Dive

## 06장 데이터 타입

### 숫자 타입

C나 Java에서는 int, long, float, double과 같은 다양한 숫자 타입이 있는데, **자바스크립트에서는 특이하게 하나의 숫자 타입을 갖는다**. 자바스크립트는 숫자의 값을 배정밀도 **64비트 부동소수점** 형식을 따라 실수로 처리하며 정수만을 위한 타입이 별도로 존재 하지않는다.

```javascript
var binary = 0b01000001; // 2진수
var octal = 0o101; // 8진수
var hex = 0x41; // 16진수

// 64비트 부동소수점을 2진수 똑같이 표현하기 때문에 아래는 다 같은 값과 true가 나옴
console.log(binary); // 65
console.log(octal); // 65
console.log(hex); // 65
console.log(binary === octal); // true
console.log(octal === hex); // true
```

추가적으로 세가지 특별한 값도 표현할 수 있다.

- Infinity: 양의 무한대
- -Infinity : 음의 무한대
- NaN : 산술연산불가

```javascript
console.log(10 / 0); //Infinity
console.log(10 / -0); //-Infinity
console.log(1 * String); //NaN
```

주의할 점은 자바스크립트는 대소문자를 구별하기 때문에 NaN표기를 조심 해야한다.

---

### 문자열 타입

문자열은 작은 따옴표(’’), 큰따옴표(””), 또는 백틱(``)으로 텍스트를 감싼다. 일반적으로는 작은 따옴표를 사용한다.

문자열을 따옴표로 감싸지않으면 식별자로 인식하므로 조심 해야한다.

**템플릿 리터럴**은 일반 문자열과 비슷해 보이지만 작은 따옴표 또는 큰 따옴표같은 일반적인 따옴표 대신 백틱을 사용한다.

백틱 대신 일반 따옴표를 사용해서 일반 문자열을 에서는 줄바꿈이 허용되지않아 공백을 표현하려면 백슬래시로 시작하는 **이스케이프 시퀀스**를 사용해야 한다.
| 이스케이프 시퀀스 | 의미 |
| ----------------- | -------------------- |
| \0 | null |
| \b | Backspace |
| \n | 다음 행으로 이동 |
| \r | 커서를 처음으로 이동 |
| \t | Tab(수평) |
| \v | Tab(수직) |
| \’ | 작은따옴표 |
| \” | 큰따옴표 |
| \\\ | 백슬래시 |

만약에 HTML 문자열을 만든다하면 일반적인 따옴표를 사용하면 개행문자를 써야해서 복잡하게 만들지만, 백틱을 사용하면 손쉽게 작성할 수 있다!

문자열은 연산자 +를 사용해 연결할 수 있다. 또한 템플릿 리터럴 내에서는 표현식 삽입을 통해 간단히 문자열을 삽입할 수있다. 표현식을 삽입하려면 ${}으로 표현식을 감싸면 된다.

```javascript
var first = "HyunWook";
var last = "Yoo";

console.log("My name is " + first + " " + last + ".");
//My name is  HyunWook Yoo.

console.log("1 + 2 = ${1 + 2}");
// 1 + 2 = 3
```

---

### 불리언 타입

불리언 타입의 값은 참과 거짓인 true, false가 있다. 조건문에서 자주 사용한다.

---

### undefined 타입

변수를 선언한 이후에 값을 할당하지 않으면 undefined로 초기화 된다. 값을 참조하면 undefined 반환된다. **undefined는 자바스크립트 엔진이 변수를 초기화할때 사용되는 값이므로 개발자가 의도적으로 undefined를 할당한다면 본래 취지와 어긋날뿐만 아니라 혼란을 줄 수 있다.** 그래서 변수에 값이 없다는 것을 명시하고 싶으면 **null**을 할당한다.

---

### null 타입

프로그래밍 언어에서 null은 변수에 값이 없다는 것을 의도적으로 명시할 때 사용한다. 변수에 null을 할당하는 것은 **변수가 이전에 참조하던 값을 더 이상 참조하지 않겠다**는 의미다.

---

### 심벌 타입

심벌은 변경 불가능한 원시 타입의 값이다. 주로 이름이 충돌할 위험이 없는 객체의 유일한 프로퍼티 키를 만들기 위해 사용한다.

```javascript
const a = Symbol("id");
const b = Symbol("id");

console.log(a === b); // false
```

33장에서 자세히 배우자!

---

### 객체 타입

자바 스크립트는 객체기반의 언어이며 자바스크립트를 이루고 있는 거의 모든것이 객체라는 것이다. 11장에서 자세히 다루자

---

### 데이터 타입의 필요성

자바스크립트에서 숫자 타입의 값을 생성할 때 64비트 부동소수점의 형식을 사용하므로 8비트 사용된다.

```javascript
var score = 100;
```

식별자 score의 값을 참조하면 100이 저장되어 있는 메모리 공간의 선두로 찾아갈 것이다. 값을 잘 참조하려면 8바이트 전부 다 읽어야 할 것이다. 그렇다면 컴퓨터는 메모리 셀의 크기를 어떻게 아나? 자바스크립트 엔진은 저장되어있는 100을 보고 숫자타입을 인지해서 8바이트를 단위로 메모리 공간을 읽는다. 그래서 타입이 필요한 것이다.

#### 데이터 타입이 필요한이유

- 값을 저장할 때 확보해야 하는 메모리 공간의 크기를 결정하기 위해
- 값을 참조할 때 한 번에 읽어 들여야 할 메모리 공간의 크기를 결정하기 위해
- 메모리에서 읽어 들인 2진수를 어떻게 해석할지 결정하기 위해

---

### 동적 타이핑

C나 Java는 정적타입 언어를 사용한다. 이때 한번 선언한 타입은 변경될 수 없고 선언한 타입에 맞게 할당할 수 있다. 자바스크립트는 정적 타입 언어와 다르게 변수를 선언할 때 타입을 선언하지 않는다. 미리 선언한 데이터 타입의 값만 할당할 수 있는 것이 아니라 어떠한 데이터의 값이라도 자유롭게 할당할 수있다.

```javascript
var foo;
console.log(typeof foo); //undefined

fo0 = 3;
console.log(typeof foo); // number

fo0 = "hello";
console.log(typeof foo); // string

fo0 = true;
console.log(typeof foo); //boolean

fo0 = null;
console.log(typeof foo); //object

fo0 = Symbol();
console.log(typeof foo); // symbol
```

**다시 말해, 자바스크립트의 변수는 선언이 아닌 할당에 의해 타입이 결정 된다. 그리고 재할당에 의해 변수의 타입은 언제든지 동적으로 변할 수 있다. 변수는 기본적으로 타입을 갖지 않고 값은 타입을 가진다. 따라서 변수의 타입은 현재 할당되어 있는 값의 타입에 따라 동적으로 결정된다!**

이러한 동적 타입 언어의 특징은 무감각해질 정도로 편리하지만 위험이 있다.<br>
자바스크립트는 개발자의 의도와는 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동으로 변환되기도 한다. 그래서 안정적인 프로그램을 만들기 위해서 주의할 사항은 다음과 같다.

- 변수의 무분별한 남발은 금물이며, 필요한 만큼 최소한으로 유지한다.
- 변수의 유효 범위는 최대한 좁게 만들어 변수의 부작용을 억제해야한다
- 전역 변수는 최대한 사용을 자제한다.
- 변수보다는 상수를 사용해 값의 변경을 억제한다.
- 의미를 파악할 수 있도록 네이밍한다. 존재이유를 파악할 수 있는 적절한 이름을 지어야 한다.
