# 4장 변수

## 4.1 변수란?

- 변수는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 말한다. 변수는 프로그래밍 언어에서 값을 저장하고 참조하는 매커니즘으로, **값의 위치를 가리키는 것을 뜻한다**.
- 변수가 필요한 이유는 **개발자가 직접 메모리 주소를 통해 값을 저장하고 참조할 필요가 없고 변수를 통해 안전하게 값에 접근 할 수 있게 된다.**

```javascript
var result = 10 + 20;
```

- 위의 예시에서 result는 메모리 공간에 저장된 값을 식별할 수 있는 고유한 이름인 **변수 이름**이고, 변수에 저장된 값(30)을 **변수 값**이라고 한다. 변수에 값을 저장하는 것을 **할당(대입, 저장)**이라 하고, 변수에 저장된 값을 읽어 들이는 것을 **참조**라 한다.

## 4.2 식별자

- 변수 이름을 식별자라고도 하는데 식별자는 **어떤 값을 구별해서 식별할 수 있는 고유한 이름을 말한다.**
- **식별자는 값이 아니라 메모리 주소를 기억한다.** 식별자로 값을 구별한다는 것은 식별자가 기억하고 있는 메모리 주소를 통해 구별을 하는 것이다. 즉, 식별자는 메모리 주소에 붙인 이름이라고 할 수 있다.
- 식별자는 변수 뿐만 아니라 함수, 클래스 등이 모두 식별자다. 식별자는 [네이밍 규칙](#47-식별자-네이밍-규칙)을 준수해야 하며, 선언을 통해 식별자의 존재를 알린다.

ex.

result(식별자) → 0x0669F913(메모리 주소), 메모리(30)

## 4.3 변수 선언

- 변수 선언이란 변수를 생성하는 것을 말한다. **값을 저장하기 위한 메모리 공간을 확보하고 변수 이름과 확보된 메모리 공간의 주소를 연결해서 값을 저장할 수 있게 해준다.**
- 변수 선언에 의해 확보된 메모리 공간은 확보가 해제되기 전까지는 누구도 확보된 메모리 공간을 사용할 수 없도록 보호되므로 안전하게 사용 가능하다.
- **변수를 사용하려면 반드시 선언이 필요한데,** 변수를 선언할 때 **var, let, const** 키워드를 사용한다.
- `var score;` 로 변수 선언을 하면 확보된 메모리 공간(`score`)은 비어있는 것이 아니라 undefined라는 값이 암묵적으로 할당되어 초기화 된다.(JS의 독특한 특징) → `score` 에 undefined값이 할당
- JS에서 다음과 같이 2단계에 걸쳐 변수 선언을 수행한다.
  - 선언 단계: 변수 이름을 등록(`score`)해서 JS엔진에 변수의 존재를 알린다.
  - 초기화 단계: 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화한다.
- 만약 초기화 단계를 거치지 않는다면, 확보된 메모리 공간에 이전에 다른 애플리케이션이 사용했던 값이 남아 있을 수 있다. 이를 **쓰레기 값**이라 한다. JS의 `var`키워드는 암묵적으로 초기화를 수행하여 이러한 위험으로부터 안전하다.
- 모든 식별자는 선언이 반드시 필요하다. 선언을 하지 않은 식별자에 접근하면 **ReferneceError(참조 에러)**가 발생한다.

## 4.4 변수 선언의 실행 시점과 변수 호이스팅

```javascript
console.log(score); // undefined
var score; // 변수 선언문
```

- JS에선 변수 선언이 소스코드가 한 줄씩 순차적으로 실행되는 시점(**런타임)** 이 아닌 그 이전 단계에서 먼저 실행된다. 이처럼 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 JS의 고유의 특징을 **변수 호이스팅**이라 한다.
- 위의 예시는 변수 선언문보다 변수를 참조하는 코드가 앞에 있다. 자바스크립 코드는 인터프리터(**고급 프로그래밍 언어로 작성된 소스 코드를 한 줄씩 읽어 즉시 실행하는 프로그램)**에 의해 한 줄씩 실행된다. **변수 호이스팅 때문에** 참조 에러가 발생하지 않고 **undefined가 출력된다.**
- 변수 선언뿐만이 아닌 var, let, const, function, class 키워드를 사용해서 선언하는 **모든 식별자(변수, 함수, 클래스 등)는 호이스팅 된다.**

## 4.5 값의 할당

- 변수에 값을 할당(대입, 저장)할 때는 **할당 연산자 =**를 사용한다. 할당 연산자는 **우변의 값을 좌변의 변수에 할당한다**. 변수 선언과 값의 할당을 나누어서 쓰거나 한 번에 같이 쓸 수 있다.

  ```javascript
  var score; // 변수 선언
  score = 80; // 값의 할당
  ```

  ```javascript
  var score = 80; // 변수 선언과 값의 할당
  ```

- 변수 선언과 값의 할당은 **실행 시점이 다르다.**

  - 변수 선언: 소스코드가 순차적으로 실행되는 시점인 **런타임 이전에 먼저 실행**
  - 값의 할당: 소스코드가 순차적으로 실행되는 시점인 **런타임에 실행**

  ```javascript
  console.log(score); // undefined

  var score = 80;

  console.log(score); // 80
  ```

- 위 처럼 변수에 값을 할당할 때 이전 값인 undefined가 저장되어 있던 메모리 공간을 지우고 그 메모리 공간에 80을 할당하는 것이 아니라 **새로운 메모리 공간을 확보하고 그곳에 할당 값 80을 저장한다. → undefined가 저장되어 있는 메모리와 80이 저장되어 있는 메모리는 독립적인 공간**

## 4.6 값의 재할당

- **재할당**이란 이미 값이 할당되어 있는 변수에 새로운 값을 또다시 할당하는 것을 말한다.
  ```javascript
  var score = 80;
  score = 90; // 값의 재할당
  ```
- var 키워드로 선언한 변수는 값을 재할당할 수 있다. 현재 변수에 저장된 값을 버리고 새로운 값을 저장하는 것이다.(엄밀히 말하면 변수에 처음으로 값을 할당(undefined→80)하는 것도 재할당이라 볼 수 있다.
- 만약 값을 재할당할 수 없어서 변수에 저장된 값을 변경할 수 없다면 변수가 아니라 **상수(한번 정해지면 변하지 않는 값, 한 번만 할당할 수 있는 변수 → const 키워드로 선언한 변수)**라 한다.
- 현재 score 변수의 값은 90이다. 이전 값인 undefined와 80은 어떤 변수도 값으로 갖고 있지 않다. 이런 불필요한 값들은 **가비지 콜렉터**에 의해 메모리에서 자동 해제된다.**(메모리 누수 방지**) 메모리 해제 시점은 예측할 수 없다.

## 4.7 식별자 네이밍 규칙

- 식별자는 다음과 같은 네이밍 규칙을 준수해야 한다.
  - 식별자는 특수문자를 제외한 문자, 숫자, 언더스코어(\_), $를 포함할 수 있다.
  - 단, 식별자는 특수문자를 제외한 문자, 언더스코어(\_), $로 시작해야 한다. 숫자로 시작되는 것은 허용하지 않는다.
  - 예약어는 식별자로 사용할 수 없다.
  ```javascript
  var first-name; // SyntaxError : -는 사용할 수 없음
  var 1st; // SyntaxError: 숫자로 시작되면 안 됨
  var this; // SyntaxError: this는 예약어라 사용할 수 없음
  ```
- 변수는 쉼표로 구분해 하나의 문에서 여러 개를 한번에 선언할 수 있다. 하지만 가독성이 좋지 않으므로 권장하지 않는다.
- JS는 대소문자를 구별하므로 다음 변수들은 각각 별개의 변수이다.

  ```javascript
  var firstname;
  var firstName;
  var FIRSTNAME;
  ```

- 변수 이름은 변수의 존재 목적을 쉽게 이해할 수 있도록 의미를 명확히 표현해야 한다. **좋은 변수 이름은 코드의 가독성을 높인다.** 아래와 같은 변수 이름은 좋지 못한 변수 이름이다.
