# 04. 변수

### 변수의 정의 및 필요성

<br>
예시:

<br>

```JavaSript
10 + 20
```

<br>

- 자바스크립트 엔진이 자바스크립트 코드 `10+20` 를 계산(evaluate) 하려면 `10` , `20` 그리고 연산자 `+` 의 의미를 각각 알고 있어야 하며, `10+20` 이라는 식의 의미도 해석(parsing) 할 수 있어야 한다.

  자바 스크립트 엔진이 위 식의 연산을 수행( CPU 담당 ) 한 후, 메모리를 사용해 데이터를 기억한다. **메모리**는 데이터를 저장할 수 있는 메모리 셀의 집합체다. 메모리 셀 하나의 크기는 **1바이트(8비트)**이며, 컴퓨터는 메모리 셀의 크기 단위로 데이터를 저장하거나 읽어들인다.

- 각 셀은 고유의 메모리 주소를 갖는데, 위 예제의 숫자 값 `10`과 `20`은 메모리 상 임이의 메모리 주소에 저장되고, CPU는 이 값을 읽어 연산을 수행한다. 연산 결과로 생성된 값 30도 메모리 상 임의의 위치에 저장된다.

- 하지만 위 데이터들이 저장된 임의의 위치를 재사용하려는 상황에서, 메모리 주소를 통해 직접 접근하는 것은 **_치명적 오류_** 를 발생시킬 위험이 높으며 코드가 실행되기 이전에는 값이 저장된 메모리 주소를 알 수 없으며, 알려주지도 않는다.

  따라서 프로그래밍 언어는 기억하고 싶은 값을 메모리에 저장하고, 저장된 값을 읽어 들여 재사용하기 위해 변수라는 메커니즘을 제공한다.

  `변수는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 말한다.`

<br>

- 따라서 개발자가 직접 **메모리 주소를 통해 값을 저장하고 참조할 필요가 없이** 변수를 통해 안전하게 값에 접근할 수 있다.

<br>

---

### 식별자

<br>

- 식별자는 **어떤 값을 구별해서 식별할 수 있는 고유한 이름** 을 말한다. 식별자는 메모리 공간에 저장되어 있는 어떤 값을 구별해서 식별해 낼 수 있어야 하므로 어떤 값이 저장되어 있는 메모리 주소를 기억해야 한다.

- 식별자는 값이 아니라 **메모리 주소를 기억**하고 있다. 즉, 식별자는 메모리 주소에 붙인 이름이다.

- 자바스크립트 엔진에 **선언(declaration)**을 통해 식별자의 존재를 알릴 수 있다.

<br>

---

### 변수 선언

<br>

- 변수를 사용하기 위해서는 선언이 필요한데, 변수를 선언할 때는 `var` , `let`, `const` 키워드를 사용한다.

예시 :

```JavaScript
// var 예시
var myName = '사파리';
console.log(myName); // 사파리

var myName = '김멋사'; // 재선언 가능
console.log(myName); // 김멋사

// let 예시
let age = 30;
console.log(age); // 30

age = 31; // 재할당 가능
console.log(age); // 31

// let age = 32; // SyntaxError: 'age' has already been declared (재선언 불가능)

// const 예시
const PI = 3.14;
console.log(PI); // 3.14

// PI = 3.15; // TypeError: Assignment to constant variable. (재할당 불가능)
```

- 각 변수 선언문은 변수 이름을 등록하고 값을 저장할 메모리 공간을 확보한다. 자바스크립트 엔진은 변수 선언을 2단계에 거쳐 수행한다.

1.  선언 단계 : 변수 이름을 등록해 자바스크립트 엔진에 변수의 존재를 알린다.

2.  초기화 단계 : 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화한다.

- 만일 초기화 단계를 거치지 않으면 쓰레기 값 (gabage value)이 남아 있을 수 있다. 또한 만일 선언하지 않은 식별자에 접근하면 참조 에러( ReferenceError ) 가 발생한다.

`ReferenceError는 식별자를 통해 값을 참조하려 했으나 자바스크립트 엔진이 등록된 식별자를 찾을 수 없을 때 발생하는 에러이다. `

<br>

---

### 변수 선언의 실행 시점과 변수 호이스팅

<br>

예시:

```JavaScript
console.log(score); //undefined var score; // 변수 선언문
```

- 위 예제를 보면 변수 선언문 보다 변수 참조 코드가 앞에 있다. 자바스크립트 코드는 인터프리터에 의해서 한 줄 씩 순차적으로 실행되므로 `console.log(score); `가 가장 먼저 실행되고 순차적으로 다음 줄에 있는 코드가 실행된다.

  따라서 `console.log(score);` 가 실행되는 시점에는 변수 선언이 아직 실행되지 않았으므로 ReferenceError가 발생할 것이라고 예상할 것이다.

  그렇지만 ReferenceError 가 발생하지 않고 undefined가 출력된다.

  **_이는 변수 선언이 소스코드가 한 줄씩 순차적으로 실행되는 시점, 즉 런타임이 아니라 그 이전 단계에서 먼저 실행되기 때문이다._**

- 이처럼 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 **변수 호이스팅 ( Variable hoisting)** 이라 한다.

<br>

---

### 값의 할당

<br>

- 변수에 값을 할당 할 때는 **할당 연산자** `=` 를 사용한다. 할당 연산자는 우변의 값을 좌변의 변수에 할당한다.

예시:

```JavaScript
var score; // 변수 선언
score = 80 ; // 값의 할당
```

<br>

---

### 값의 재할당

<br>

- 재할당은 변수에 저장된 값을 다른 값으로 변경한다. 그래서 변수라고 부를 수 있는 것이다. 만일 값을 재할당 할 수 없어 변수에 저장된 값을 변경할 수 없다면 변수가 아닌 **상수(constant)** 라고 한다.

예시:

```JavaScript
var score = 80; // 변수 선언과 값의 할당 score = 90; // 값의 재할당
```

<br>

---

### 식별자 네이밍 규칙

- 식별자는 어떤 값을 구별해서 식별해 낼 수 있는 고유한 이름이라고 언급했다. 식별자는 다음과 같은 네이밍 규칙을 준수해야 한다.

  - 식별자는 특수문자를 제외한 문자, 숫자, 언더스코어(\_), 달러 기호(&)를 포함할 수 있다.

  - 단, 식별자는 특수문자를 제외한 문자, 언더스코어(\_), 달러 기호(&)로 시작해야 한다. 숫자로 시작하는 것은 허용되지 않는다.

  - **예약어(Reserved words)** 는 식별자로 사용할 수 **없다**.

  - **_카멜 케이스(camelCase)를 사용하는 것이 일반적_**.

예시 :

```JavaScript
// 올바른 예시
let myVariable;
let $price;
let _total;
let userName; // 카멜 케이스

// 잘못된 예시 (SyntaxError 발생)
// let 1stVariable; // 숫자로 시작
// let for; // 예약어 사용
// let my-variable; // 하이픈 사용
```

---

참고하면 좋을 레퍼런스들

1. MDN : <https://developer.mozilla.org/ko/docs/Web/JavaScript?utm_source=chatgpt.com> MDN

2. 메뉴얼과 명세 : <https://ko.javascript.info/manuals-specifications?utm_source=chatgpt.com>
